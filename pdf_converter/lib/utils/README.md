# Logger 日志工具类

这是一个为Flutter应用设计的日志工具类，支持不同级别的日志记录，并可以根据环境控制日志输出。增强版本支持将日志写入文件，实现日志轮转和格式化。

## 主要功能

- 支持多种日志级别（debug、info、warning、error）
- 开发模式下在控制台输出日志
- 生产环境下支持写入日志文件
- 日志文件自动轮转功能，防止单个日志文件过大
- 日志格式化，包含时间戳和日志级别
- 可配置的日志目录、文件名、文件大小和数量

## 使用方法

### 初始化日志系统

在应用启动时初始化日志系统：

```dart
void main() async {
  // 初始化日志系统
  await Logger.init(
    level: LogLevel.info,
    logDir: 'logs', // 日志目录
    logFileName: 'app.log', // 日志文件名
    maxLogFiles: 5, // 最大日志文件数量
    maxLogSizeBytes: 1024 * 1024, // 单个日志文件最大大小（1MB）
    enableFileLogging: !kDebugMode, // 在生产环境启用文件日志
  );
  
  Logger.i('应用启动');
  runApp(MyApp());
}
```

### 记录不同级别的日志

```dart
// 记录调试信息
Logger.d('这是一条调试日志');

// 记录一般信息
Logger.i('这是一条信息日志');

// 记录警告信息
Logger.w('这是一条警告日志');

// 记录错误信息
Logger.e('这是一条错误日志');
```

### 设置日志级别

```dart
// 设置日志级别为debug，将记录所有级别的日志
Logger.setLevel(LogLevel.debug);

// 设置日志级别为warning，只记录warning和error级别的日志
Logger.setLevel(LogLevel.warning);
```

## 日志文件

日志文件默认保存在应用目录下的`logs`文件夹中，文件名默认为`app.log`。当日志文件大小超过设定的最大值时，会自动进行轮转：

1. 当前日志文件重命名为`app.log.1`
2. 如果已存在`app.log.1`，则将其重命名为`app.log.2`，依此类推
3. 如果日志文件数量超过设定的最大值，最旧的日志文件将被删除

## 日志格式

日志格式为：`[日期 时间] [级别] 消息`

例如：`[2023-05-15 14:30:45.123] [INFO] 应用启动`

## 注意事项

- 在生产环境中使用文件日志时，确保应用有写入文件的权限
- 合理设置日志级别和文件大小，避免占用过多存储空间
- 日志文件轮转功能可能会在写入大量日志时影响性能，请根据实际需求调整参数